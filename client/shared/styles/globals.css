/* Import external styles */
@import 'mapbox-gl/dist/mapbox-gl.css'; /* âœ… Bringing in external map styles */

/* Critical styles to prevent flash - must be before Tailwind */
:root, html, body, #__next, main, .page-transition {
  background-color: #000000 !important;
  color: #ffffff !important;
}

html[data-theme="light"],
html[data-theme="light"] body,
html[data-theme="light"] #__next,
html[data-theme="light"] main,
html[data-theme="light"] .page-transition {
  background-color: #ffffff !important;
  color: #000000 !important;
}

.dark {
  background-color: #000000 !important;
  color: #ffffff !important;
}

.light {
  background-color: #ffffff !important;
  color: #000000 !important;
}

.theme-background-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  background-color: #000000;
}

html[data-theme="light"] .theme-background-layer {
  background-color: #ffffff;
}

/* Tailwind CSS directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom CSS below this line */

/* 
 * If you're seeing linter errors with @tailwind directives:
 * 1. Add the VS Code CSS Validation extension or similar
 * 2. Add a .vscode/settings.json file with this setting:
 * {
 *   "css.lint.unknownAtRules": "ignore"
 * }
 */

/* Super aggressive flash prevention - added to base layer for highest priority */
@layer base {
  body {
    @apply dark:bg-black dark:text-white light:bg-white light:text-black;
    background-color: var(--background) !important;
    color: var(--foreground) !important;
  }
  
  /* Ensure Next.js root elements have theme bg */
  #__next, div[data-nextjs-root], .page-transition {
    background-color: var(--background) !important;
    color: var(--foreground) !important;
  }
  
  main, div, section, article, header, footer {
    transition-property: none !important;
  }
  
  html[data-theme="dark"] {
    background-color: #000000 !important;
    color: #ffffff !important;
  }
  
  html[data-theme="light"] {
    background-color: #ffffff !important;
    color: #000000 !important;
  }
}

/* Add these rules to prevent map flash */
.mapboxgl-canvas-container {
  background-color: var(--background);
}

.mapboxgl-canvas {
  background-color: var(--background);
}

/* Add rule to prevent the map container from flashing */
.mapboxgl-map::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--background);
  z-index: -1;
}
